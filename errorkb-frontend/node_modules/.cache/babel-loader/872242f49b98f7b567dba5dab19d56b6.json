{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\Diplomarbeit\\\\errorkb-frontend\\\\src\\\\components\\\\auth\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport axios from 'axios';\nimport Counters from '../counters';\nlet apiBaseUrl = \"http://localhost:4000/api/\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    let localloginComponent = [];\n    localloginComponent.push(React.createElement(MuiThemeProvider, {\n      key: \"theme\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      hintText: \"Enter your Username\",\n      floatingLabelText: \"Login\",\n      onChange: (event, newValue) => this.setState({\n        username: newValue\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: (event, newValue) => this.setState({\n        password: newValue\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: event => this.handleClick(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }))));\n    this.state = {\n      username: '',\n      password: '',\n      menuValue: 1,\n      loginComponent: localloginComponent,\n      loginRole: 'student'\n    };\n  }\n\n  componentWillMount() {\n    let localloginComponent = [];\n    localloginComponent.push(React.createElement(MuiThemeProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      hintText: \"Enter your Username\",\n      floatingLabelText: \"Login\",\n      onChange: (event, newValue) => this.setState({\n        username: newValue\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: (event, newValue) => this.setState({\n        password: newValue\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: event => this.handleClick(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))));\n    this.setState({\n      menuValue: 1,\n      loginComponent: localloginComponent,\n      loginRole: 'student'\n    });\n  }\n\n  handleClick(event) {\n    var self = this;\n    var payload = {\n      \"userid\": this.state.username,\n      \"password\": this.state.password,\n      \"role\": this.state.loginRole\n    };\n    axios.post(apiBaseUrl + 'login', payload).then(function (response) {\n      console.log(response);\n\n      if (response.data.code == 200) {\n        console.log(\"Login successfull\");\n        let uploadScreen = [];\n        uploadScreen.push(React.createElement(Counters, {\n          appContext: self.props.appContext,\n          role: self.state.loginRole,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }));\n        self.props.appContext.setState({\n          loginPage: [],\n          uploadScreen: uploadScreen\n        });\n      } else if (response.data.code == 204) {\n        console.log(\"Username password do not match\");\n        alert(response.data.success);\n      } else {\n        console.log(\"Username does not exists\");\n        alert(\"Username does not exist\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleMenuChange(value) {\n    console.log(\"menuvalue\", value);\n    var loginRole;\n\n    if (value == 1) {\n      var localloginComponent = [];\n      loginRole = 'student';\n      localloginComponent.push(React.createElement(MuiThemeProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        hintText: \"Enter your College Rollno\",\n        floatingLabelText: \"Student Id\",\n        onChange: (event, newValue) => this.setState({\n          username: newValue\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        type: \"password\",\n        hintText: \"Enter your Password\",\n        floatingLabelText: \"Password\",\n        onChange: (event, newValue) => this.setState({\n          password: newValue\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: \"Submit\",\n        primary: true,\n        style: style,\n        onClick: event => this.handleClick(event),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))));\n    } else if (value == 2) {\n      var localloginComponent = [];\n      loginRole = 'teacher';\n      localloginComponent.push(React.createElement(MuiThemeProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        hintText: \"Enter your College Rollno\",\n        floatingLabelText: \"Teacher Id\",\n        onChange: (event, newValue) => this.setState({\n          username: newValue\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        type: \"password\",\n        hintText: \"Enter your Password\",\n        floatingLabelText: \"Password\",\n        onChange: (event, newValue) => this.setState({\n          password: newValue\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: \"Submit\",\n        primary: true,\n        style: style,\n        onClick: event => this.handleClick(event),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }))));\n    }\n\n    this.setState({\n      menuValue: value,\n      loginComponent: localloginComponent,\n      loginRole: loginRole\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(MuiThemeProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      title: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst style = {\n  margin: 15\n};\nexport default Login;","map":{"version":3,"sources":["D:/Github/Diplomarbeit/errorkb-frontend/src/components/auth/login.jsx"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","DropDownMenu","MenuItem","axios","Counters","apiBaseUrl","Login","constructor","props","localloginComponent","push","event","newValue","setState","username","password","style","handleClick","state","menuValue","loginComponent","loginRole","componentWillMount","self","payload","post","then","response","console","log","data","code","uploadScreen","appContext","loginPage","alert","success","catch","error","handleMenuChange","value","render","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport AppBar from 'material-ui/AppBar';\r\nimport RaisedButton from 'material-ui/RaisedButton';\r\nimport TextField from 'material-ui/TextField';\r\nimport DropDownMenu from 'material-ui/DropDownMenu';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport axios from 'axios';\r\nimport Counters from '../counters';\r\n\r\n\r\nlet apiBaseUrl = \"http://localhost:4000/api/\";\r\nclass Login extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        let localloginComponent=[];\r\n        localloginComponent.push(\r\n            <MuiThemeProvider key={\"theme\"}>\r\n                <div>\r\n                    <TextField\r\n                        hintText=\"Enter your Username\"\r\n                        floatingLabelText=\"Login\"\r\n                        onChange={(event,newValue) => this.setState({username:newValue})}\r\n                    />\r\n                    <br/>\r\n                    <TextField\r\n                        type=\"password\"\r\n                        hintText=\"Enter your Password\"\r\n                        floatingLabelText=\"Password\"\r\n                        onChange = {(event,newValue) => this.setState({password:newValue})}\r\n                    />\r\n                    <br/>\r\n                    <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\r\n                </div>\r\n            </MuiThemeProvider>\r\n        )\r\n        this.state={\r\n            username:'',\r\n            password:'',\r\n            menuValue:1,\r\n            loginComponent:localloginComponent,\r\n            loginRole:'student'\r\n        }\r\n    }\r\n    componentWillMount(){\r\n        let localloginComponent=[];\r\n        localloginComponent.push(\r\n            <MuiThemeProvider>\r\n                <div>\r\n                    <TextField\r\n                        hintText=\"Enter your Username\"\r\n                        floatingLabelText=\"Login\"\r\n                        onChange = {(event,newValue) => this.setState({username:newValue})}\r\n                    />\r\n                    <br/>\r\n                    <TextField\r\n                        type=\"password\"\r\n                        hintText=\"Enter your Password\"\r\n                        floatingLabelText=\"Password\"\r\n                        onChange = {(event,newValue) => this.setState({password:newValue})}\r\n                    />\r\n                    <br/>\r\n                    <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\r\n                </div>\r\n            </MuiThemeProvider>\r\n        )\r\n        this.setState({menuValue:1,loginComponent:localloginComponent,loginRole:'student'})\r\n            }\r\n\r\n    handleClick(event){\r\n        var self = this;\r\n        var payload={\r\n            \"userid\":this.state.username,\r\n            \"password\":this.state.password,\r\n            \"role\":this.state.loginRole\r\n        }\r\n        axios.post(apiBaseUrl+'login', payload)\r\n            .then(function (response) {\r\n                console.log(response);\r\n                if(response.data.code == 200){\r\n                    console.log(\"Login successfull\");\r\n                    let uploadScreen=[];\r\n                    uploadScreen.push(<Counters appContext={self.props.appContext} role={self.state.loginRole}/>)\r\n                    self.props.appContext.setState({loginPage:[],uploadScreen:uploadScreen})\r\n                }\r\n                else if(response.data.code == 204){\r\n                    console.log(\"Username password do not match\");\r\n                    alert(response.data.success)\r\n                }\r\n                else{\r\n                    console.log(\"Username does not exists\");\r\n                    alert(\"Username does not exist\");\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n    handleMenuChange(value){\r\n        console.log(\"menuvalue\",value);\r\n        var loginRole;\r\n        if(value==1){\r\n            var localloginComponent=[];\r\n            loginRole='student';\r\n            localloginComponent.push(\r\n                <MuiThemeProvider>\r\n                    <div>\r\n                        <TextField\r\n                            hintText=\"Enter your College Rollno\"\r\n                            floatingLabelText=\"Student Id\"\r\n                            onChange = {(event,newValue) => this.setState({username:newValue})}\r\n                        />\r\n                        <br/>\r\n                        <TextField\r\n                            type=\"password\"\r\n                            hintText=\"Enter your Password\"\r\n                            floatingLabelText=\"Password\"\r\n                            onChange = {(event,newValue) => this.setState({password:newValue})}\r\n                        />\r\n                        <br/>\r\n                        <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\r\n                    </div>\r\n                </MuiThemeProvider>\r\n            )\r\n        }\r\n        else if(value == 2){\r\n            var localloginComponent=[];\r\n            loginRole='teacher';\r\n            localloginComponent.push(\r\n                <MuiThemeProvider>\r\n                    <div>\r\n                        <TextField\r\n                            hintText=\"Enter your College Rollno\"\r\n                            floatingLabelText=\"Teacher Id\"\r\n                            onChange = {(event,newValue) => this.setState({username:newValue})}\r\n                        />\r\n                        <br/>\r\n                        <TextField\r\n                            type=\"password\"\r\n                            hintText=\"Enter your Password\"\r\n                            floatingLabelText=\"Password\"\r\n                            onChange = {(event,newValue) => this.setState({password:newValue})}\r\n                        />\r\n                        <br/>\r\n                        <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\r\n                    </div>\r\n                </MuiThemeProvider>\r\n            )\r\n        }\r\n        this.setState({menuValue:value,\r\n            loginComponent:localloginComponent,\r\n            loginRole:loginRole})\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <MuiThemeProvider>\r\n                    <AppBar\r\n                        title=\"Login\"\r\n                    />\r\n                </MuiThemeProvider>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst style = {\r\n    margin: 15,\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}