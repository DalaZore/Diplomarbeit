{"ast":null,"code":"import _objectWithoutProperties from\"D:\\\\Github\\\\Diplomarbeit\\\\errorkb-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"D:\\\\Github\\\\Diplomarbeit\\\\errorkb-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component}from'react';import'./App.css';import Login from'./components/auth/login.jsx';import Dashboard from\"./components/Dashboard\";import{BrowserRouter as Router,Switch,Route,Link,Redirect}from\"react-router-dom\";import AuthApi from\"./components/auth/AuthApi\";import{useCookies}from'react-cookie';import UserMgmt from\"./components/UserMgmt\";import AppBar from\"./components/AppBar\";import MuiThemeProvider from\"material-ui/styles/MuiThemeProvider\";export default function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),auth=_React$useState2[0],setAuth=_React$useState2[1];var _useCookies=useCookies(['user']),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var readCookie=function readCookie(){var user=cookies.user;if(user){setAuth(true);}};React.useEffect(function(){readCookie();},[]);return React.createElement(\"div\",null,React.createElement(MuiThemeProvider,null,React.createElement(AppBar,null)),React.createElement(AuthApi.Provider,{value:{auth:auth,setAuth:setAuth}},React.createElement(Router,null,React.createElement(Routes,null))));}var Routes=function Routes(){var Auth=React.useContext(AuthApi);return React.createElement(Switch,null,React.createElement(ProtectedLogin,{path:\"/\",exact:true,auth:Auth.auth,component:Login}),React.createElement(ProtectedRoute,{path:\"/Dashboard\",exact:true,auth:Auth.auth,component:Dashboard}),React.createElement(Route,{path:\"/UserMgmt\",auth:Auth.auth,exact:true,component:UserMgmt}));};var ProtectedRoute=function ProtectedRoute(_ref){var auth=_ref.auth,Component=_ref.component,rest=_objectWithoutProperties(_ref,[\"auth\",\"component\"]);return React.createElement(Route,Object.assign({},rest,{render:function render(){return auth?React.createElement(Component,null):React.createElement(Redirect,{to:'/'});}}));};var ProtectedLogin=function ProtectedLogin(_ref2){var auth=_ref2.auth,Component=_ref2.component,rest=_objectWithoutProperties(_ref2,[\"auth\",\"component\"]);return React.createElement(Route,Object.assign({},rest,{render:function render(){return!auth?React.createElement(Component,null):React.createElement(Redirect,{to:'/Dashboard'});}}));};","map":{"version":3,"sources":["D:/Github/Diplomarbeit/errorkb-frontend/src/App.js"],"names":["React","Component","Login","Dashboard","BrowserRouter","Router","Switch","Route","Link","Redirect","AuthApi","useCookies","UserMgmt","AppBar","MuiThemeProvider","App","useState","auth","setAuth","cookies","setCookie","removeCookie","readCookie","user","useEffect","Routes","Auth","useContext","ProtectedRoute","component","rest","ProtectedLogin"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './App.css';\nimport Login from './components/auth/login.jsx';\nimport Dashboard from \"./components/Dashboard\";\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect} from \"react-router-dom\";\nimport AuthApi from \"./components/auth/AuthApi\";\nimport { useCookies } from 'react-cookie';\nimport UserMgmt from \"./components/UserMgmt\";\nimport AppBar from \"./components/AppBar\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\n\n\nexport default function App(){\n    const [auth,setAuth] = React.useState(false);\n    const [cookies, setCookie, removeCookie] = useCookies(['user']);\n\n    const readCookie = () => {\n    const user = cookies.user\n        if (user) {\n            setAuth(true);\n        }\n    };\n\n    React.useEffect(()=>    {\n        readCookie();\n    },[]);\n\n    return (\n        <div>\n            <MuiThemeProvider>\n                <AppBar />\n            </MuiThemeProvider>\n            <AuthApi.Provider value={{auth,setAuth}}>\n                    <Router>\n                      <Routes/>\n                    </Router>\n            </AuthApi.Provider>\n        </div>\n    )\n}\n\n\n\nconst Routes = () => {\n    const Auth = React.useContext(AuthApi);\n  return(\n      <Switch>\n          <ProtectedLogin path={\"/\"} exact auth={Auth.auth} component={Login}/>\n          <ProtectedRoute path={\"/Dashboard\"} exact auth={Auth.auth} component={Dashboard}/>\n          <Route path={\"/UserMgmt\"} auth={Auth.auth} exact component={UserMgmt}/>\n      </Switch>\n  )\n};\n\nconst ProtectedRoute = ({auth,component:Component,...rest}) => {\n    return(\n        <Route\n            {...rest}\n            render = {()=>auth?(\n                <Component/>\n            ):\n                (\n                    <Redirect to={'/'}/>\n                )\n            }/>\n    )\n};\nconst ProtectedLogin = ({auth,component:Component,...rest}) => {\n    return(\n        <Route\n            {...rest}\n            render = {()=>!auth?(\n                    <Component/>\n                ):\n                (\n                    <Redirect to={'/Dashboard'}/>\n                )\n            }/>\n    )\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}